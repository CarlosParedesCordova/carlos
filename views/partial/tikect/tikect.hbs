<script>
    $(document).ready(function () {
          $('#hora_Inicio').keyup(function () {
           calculardiferencia();
        });
        $('#hora_Fin').keyup(function () {
             calculardiferencia();
        });
    });
    function calculardiferencia() {
        var h1 = $('#hora_Inicio').val(); //obtener el id del horario 1
        var h2 = $('#hora_Fin').val(); //obtener el id del horario 2
        var pu = 0.8; //obtener el valor unitario

        var H1 = h1.substr(0, h1.length - 3) * 1; //obtener la hora 1 en entero

        var H2 = h2.substr(0, h2.length - 3) * 1; //obtener la hora 2 en entero
        var horas = H2 - H1; //ver la diferencia de horas que hay para calcular precio
        var pt = pu * horas; //si es diferente las horas se multiplica por el precio unitario para obtener el precio total
        console.log(pt);
        $('#formReserva').attr('action', '/crear/tikect/'+pt); //action para el formulario
    }
</script>

<a href="#" onclick="calculardiferencia()">precio</a>
<form method="POST"  id="formReserva">
    <div class="container">


        <font color="white">Hora de Entrada</font>
        <input type="time" placeholder="Ingrese Hora de Inicio " id="hora_Inicio" name="hora_Inicio" required >

            <font color="white">Hora de Salida</font>
            <input type="time" placeholder="Ingrese Hora de Fin " id="hora_Fin"  name="hora_Fin" required>

                <font color="white">Fecha</font>
                <input  type="date" placeholder="Ingrese la Fecha" id="fecha"  name="fecha" required >
                    <font color="white">Plaza:</font>
                    <select name="plaza" id="plaza">
                        {{#each plaza}}
                        <option value="{{this.id_plaza}}" >{{this.NumeroPlaza}}</option>
                        {{/each}}
                    </select>
                    <button type="submit" onclick="calculardiferencia()">Generar Tikect</button>
                    <div class="container">
                        <a class="b " href="/usuario"> Cancelar</a>
                    </div>    

                    </div>
                    <div><dialog open style=" height: 50px;width: 15%;position: inherit;  background-color: black; border: #AD9E66" >  <p style="color:white">Horarios No Diponible</p></dialog>   </div>
                    <table class="table table-dark text-center" style="  font-size: 12px; width: 700px; margin: 0 auto;">

                        <thead>


                            <tr>
                                <th scope="col"><h6>Hora Inicio</h6></th>
                                <th scope="col"><h6>Hora Fin</h6></th>
                                <th scope="col"><h6>Fecha</h6></th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each tikect }}
                            <tr>
                                <td><h6>{{this.horaInicio}}</h6></td>
                                <td><h6>{{this.horaFin}}</h6></td>
                                <td><h6>{{this.fecha}}</h6></td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                    </form>




                    <style>
                        body{

                            font-family: Arial;
                            background-image: url("/images/a.jpg");
                        }
                        table{
                            background-color: white;
                            text-align: left;
                            border-collapse: collapse;
                            width: 110%;
                        }

                        th{
                            padding: 15px;
                            text-align: center;  

                        }
                        td{

                            padding: 15px;
                        }

                        thead{
                            background-color: infotext;

                            color: white;
                        }
                        .b {
                            background-color: #47464B; /* Green */
                            border: none;
                            color: white;
                            text-align: center;
                            text-decoration: none;
                            padding: 15px 60px; 
                            width:10%; left: 42% ; 
                            text-align:center;
                            position: relative;

                        }
                        form {
                            border: 3px solid #f1f1f1;
                        }

                        /* Full-width inputs */
                        input[type=text], input[type=password] {
                            width: 100%;
                            padding: 12px 20px;
                            margin: 8px 0;
                            display: inline-block;
                            border: 1px solid #ccc;
                            box-sizing: border-box;
                        }

                        /* Set a style for all buttons */
                        button {
                            background-color: #47464B;
                            color: white;
                            padding: 14px 20px;
                            margin: 8px 0;
                            border: none;

                            width: 100%;

                        }

                        /* Add a hover effect for buttons */
                        button:hover {
                            opacity: 0.8;
                        }

                        /* Extra style for the cancel button (red) */
                        .cancelbtn {
                            width: auto;
                            padding: 10px 18px;
                            background-color: black;
                        }

                        /* Center the avatar image inside this container */
                        .imgcontainer {
                            text-align: center;
                            margin: 24px 0 12px 0;
                        }

                        /* Avatar image */
                        img.avatar {
                            width: 40%;
                            border-radius: 50%;
                        }

                        /* Add padding to containers */
                        .container {
                            padding: 16px;
                        }

                        /* The "Forgot password" text */
                        span.psw {
                            float: right;
                            padding-top: 16px;
                        }

                        /* Change styles for span and cancel button on extra small screens */
                        @media screen and (max-width: 300px) {
                            span.psw {
                                display: block;
                                float: none;
                            }
                            .cancelbtn {
                                width: 100%;
                            }
                        }
                    </style>




















